


{{!-- /////////////////////////////////////////////////////////////////////////////////////////// --}}
      <!DOCTYPE html>
<html>
   <head>
      <!-- Basic -->
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <!-- Mobile Metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
      <!-- Site Metas -->
      <meta name="keywords" content="" />
      <meta name="description" content="" />
      <meta name="author" content="" />
      <link rel="shortcut icon" href="images/favicon.png" type="">
      <title>Famms - Fashion HTML Template</title>
      <!-- bootstrap core css -->
      <link rel="stylesheet" type="text/css" href="/homeExports/css/bootstrap.css" />
      <!-- font awesome style -->
      <link href="css/font-awesome.min.css" rel="stylesheet" />
      <!-- Custom styles for this template -->
      <link href="/homeExports/css/style.css" rel="stylesheet" />
      <!-- responsive style -->
      <link href="/homeExports/css/responsive.css" rel="stylesheet" />
      
   </head>
   <body class="sub_page">





      
<style>
   .hide{
      display: none;
   }
     .others{
       
          height: 100%;
          display: flex;
          flex-direction: row;
          justify-content: center;
          align-items: center;
     }
     .cart{
          display: flex;
          justify-content: flex-end;
     }
     .others svg{
          margin-right: 20px;
     }
     .sareesh:hover{
      background-color: ;

     }
</style>



{{!-- <header>
         <!-- header inner -->
         <div class="header">
            <div class="head_top">
               <div class="container">
                  <div class="row">
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
                       <div class="top-box">
                        <ul class="sociel_link">
                         <li> <a href="#"><i class="fa fa-facebook-f"></i></a></li>
                         <li> <a href="#"><i class="fa fa-twitter"></i></a></li>
                         <li> <a href="#"><i class="fa fa-instagram"></i></a></li>
                         <li> <a href="#"><i class="fa fa-linkedin"></i></a></li>
                     </ul>
                    </div>
                  </div>
                  <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 cart">
                    <div class="others">

                       <a href="/cart/view-cart">
                       <span class="badge badge-success" class="badge">{{#if count}}{{count}}{{/if}}</span>


                       <svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg>
                       </a>
                       <a href="/user_profile">

                       <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
                       </a>
                       <a href="/user_wishlist">

                       <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
                       </a>
                    </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="container">
            <div class="row">
               <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                  <div class="full">
                     <div class="center-desk">
                        <div class="logo"> <a href="index.html"><img style="width: 100px;height: 60px;" src="/exports/images/t.jpg" alt="logo"/></a> </div>
                     </div>
                  </div>
               </div>
               <div class="col-xl-7 col-lg-7 col-md-9 col-sm-9">
                  <div class="menu-area">
                     <div class="limit-box">
                        <nav class="main-menu">
                           <ul class="menu-area-main">
                              <li class="active"> <a href="/user_home">Home</a> </li>
                              <li class="active"> <a href="/user_products">Products</a> </li>
                              <li class="active"> <a onclick="filter()">Category</a> </li>
                               
                           
                              
                              <li  >
                                 <form method="post" action="/products/search" style="display: flex; flex-direction: row; "  >
                                 <input placeholder="Search" type="text" name="search" id="" style="margin-top: 50px;height: 35px; border-radius: 5px; ">
                                
                               
                                    
                                         <button type="submit" style='background-color: white; margin-left: 10px;margin-top: 20px;border: none; text-decoration: none; outline: none;'>
                                         <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>

                                         </button>
                                 
                                 </form>
                                  </li>
                           
                             
                              
                           
                               
                           </ul>
                        </nav>
                     </div>
                  </div>
               </div>
               <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2">
                 
  
                  
               </div>
            </div>
         </div>
         <!-- end header inner --> 
      </header> --}}













      

      <header class="header_section">
            <div class="container">
               <nav class="navbar navbar-expand-lg custom_nav-container ">
                 
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <span class=""> </span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <a class="navbar-brand" href="index.html"><img width="250" src="" alt="#" /></a>
                     <ul class="navbar-nav">
                        <li class="nav-item active">
                           <a class="nav-link" href="/user_home">Home <span class="sr-only">(current)</span></a>
                        </li>
                       
                        <li class="nav-item">
                           <a class="nav-link" href="/user_products" >Products</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" onclick="filter()">Category</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" href="/cart/view-cart">
                            <span class="badge badge-success" id="count"></span> <svg xmlns="http://www.w3.org/2000/svg" height="16" width="18" viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/></svg></a>
                        </li>
                        <li class="nav-item">
                           <div>

                           
                           <a href="/products/wishlist" class="nav-link">
                            <span class="badge badge-danger" id="wishlist"></span><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></a>
                           </div>
                        </li>
                    

                           <li class="nav-item dropdown">
                           <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true"> <span class="nav-label">  <svg xmlns="http://www.w3.org/2000/svg" height="14" width="14" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg> <span class="caret"></span></a>
                           <ul class="dropdown-menu">
                              <li><a href="/user_profile">Profile</a></li>
                              <li><a href="/user_logout">Logout</a></li>
                           </ul>
                           <li><img src="" style="width: 25px; height: 25px;border-radius: 50%;" id="icon" alt=""></li>
                        </li>
                
                     </ul>
                  </div>
               </nav>
            </div>
         </header>

         <script>
         fetch('http://localhost:3000/cart/cartcount').then((res)=>{
            return res.json()
         }).then((data)=>{
            document.getElementById("count").innerHTML = data.count

            
           
 
            
         })


         fetch('http://localhost:3000/profile/profile-icon').then((res)=>{
            return res.json()
         }).then((data)=>{
          
            document.getElementById("icon").src=`/assets/products/${data.image}`
         })


           //wishlist

               fetch('http://localhost:3000/products/wishlistcount').then((res)=>{
            return res.json()
         }).then((data)=>{
            console.log(data)
            document.getElementById("wishlist").innerHTML=data.wishlist
    
            
           
 
            
         })
      </script> 







    


      <!-- inner page section -->
    
      <section class="inner_page_head hide" style="background-color: white;border-bottom: 1px solid black; " id="products">
         <div class="container_fuild">
            <div class="row">
               <div class="col-md-12" style="display: flex; justify-content: center;">
                  <a href="/products/allproducts">All</a>
                  {{#each category}}
                  <a  class="sareesh" style="margin-left: 3%; display: flex; flex-direction: column; justify-content: space-between;" href="/products/category?id={{this.category}}">
                     <img style="width: 75px;" src="/assets/products/{{this.image}}" alt=""> <span>{{this.category}}</span></a>
                  {{/each}}
             
               </div>
            </div>
         </div>
      </section>
   

      <!-- end inner page section -->
      <!-- product section -->
      <section class="product_section layout_padding">
         
            <div class="row">

              <div class="col-md-12 col-xl-3 col-sm-12 col-lg-3 col-xs-12" style="border-right: 1px solid grey;width: 30%;">

                 <div data-role="main" class="ui-content"  style="display: flex;justify-content: center;width: 100%;">
                       {{!-- ///leftside filter --}}
    <div class="fil" style="width: 50%;">

    <form method="post" action="/products/price-filter">
    {{!-- category --}}
    <div class="category" style="width: 100%;">
       <label style="margin-bottom: 20px;">CATEGORY</label>
      {{#each category}}
      <div style="display: flex;">

      <input type="radio" value="{{this.category}}" name="category" style="width: 20%;">
      <span>{{this.category}}</span>
      </div>
      {{/each}}

    </div>
    {{!-- price --}}
      <div data-role="rangeslider" style="display: flex;flex-direction: column;justify-content: center;" >
          
         <label style="margin-top: 20px;">PRICE RANGE</label><br>
        <div class="d-flex">

        <span for="price-min">Min</span>
        <input type="range" name='min' id="price-min" value="" min="0" max="100">
        </div>
        <div class="" style="display: flex;align-items: center;justify-content: center;">

        <span>Max</span>
        <input type="range" name="max" id="price-max" value="" min="0" max="100">
        </div>
      </div>
      {{!-- price
 --}}


        <button style="width: 150px;height: 50px;border-radius:5px;background-color: #F7464F;color: white;">Apply</button>
       
      </form>
    </div>

      {{!-- leftsifilter --}}
  </div>

               </div>



                    <div class="col-xl-9 col-lg-9">
                        <div class="row">
                           <div class="col-xl-12">
                                 {{!-- search --}}
                                   

             

                <div class="form" style="display: flex; flex-direction: row;width: 40%;height: 35px;" >
                  <input onchange="changes(this)" type="text" class="form-control form-input" placeholder="Search anything..." style="border: 1px solid red;">
                  <a href="" style="background-color: red;width: 38px;height: 38px;border-radius: 5px;margin-left: 10px;align-items: center;display: flex;justify-content: center;">

                 <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#fafafa" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
                  </a>

                
                </div>
                
             
              

                            </div>
                        </div>

            <div class="row">


             <span id="user" style="display: none;">{{user}}</span>
               {{#each products}}
               <div class="col-sm-6 col-md-4 col-lg-3">
                  <div class="box">
                     <div class="option_container">
                        <div class="options">
                           <a onclick="addToCart('{{this._id}}')" class="option1" style="background-color: red;" >
                             Add To Cart
                           </a>
                           <a href="/user-product-details?id={{this._id}}" class="option2">
                           Buy Now
                           </a>
                           <a style="cursor: pointer;" onclick="wishlist('{{this._id}}')">
                           <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" class="_1l0elc" width="28" height="28" viewBox="0 0 20 16"><path d="M8.695 16.682C4.06 12.382 1 9.536 1 6.065 1 3.219 3.178 1 5.95 1c1.566 0 3.069.746 4.05 1.915C10.981 1.745 12.484 1 14.05 1 16.822 1 19 3.22 19 6.065c0 3.471-3.06 6.316-7.695 10.617L10 17.897l-1.305-1.215z" fill="#FF4343" class="eX72wL" stroke="#000000" fill-rule="evenodd" opacity=".9" stroke-opacity="0"></path></svg>
                           </a>
                           
                        </div>
                        
                     </div>
                     
                     <div class="img-box">
                        <img src="/assets/products/{{this.image}}" alt="">
                     </div>
                     <div class="detail-box">
                        <h5 id="name">
                           {{this.name}}
                        </h5>
                        <h6>
                           
                       {{this.price}}
                        </h6>
                     </div>
                  </div>
               </div>
               {{/each}}



               <script>
                  
                  function filter(){
                     document.getElementById("products").classList.toggle("hide")
                  }
               </script>
               
         
         </div>
            </div>
            </div>
           

         
      </section>


     {{!-- productspages --}}



       <footr>
         <div class="footer">
            <div class="container">
               <div class="row">
                  <div class="col-md-6 offset-md-3">
                     <ul class="sociel">
                         <li> <a href="#"><i class="fa fa-facebook-f"></i></a></li>
                         <li> <a href="#"><i class="fa fa-twitter"></i></a></li>
                         <li> <a href="#"><i class="fa fa-instagram"></i></a></li>
                         <li> <a href="#"><i class="fa fa-instagram"></i></a></li>
                     </ul>
                  </div>
            </div>
            <div class="row">
               <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                  <div class="contact" style="background-color: #1B1B1B;">
                     <h3>conatct us</h3>
                     <span>123 Second Street Fifth Avenue,<br>
                       Manhattan, New York
                        +987 654 3210</span>
                  </div>
               </div>
                 <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                  <div class="contact" style="background-color: #1B1B1B;">
                     <h3>ADDITIONAL LINKS</h3>
                     <ul class="lik">
                         <li> <a href="#">About us</a></li>
                         <li> <a href="#">Terms and conditions</a></li>
                         <li> <a href="#">Privacy policy</a></li>
                         <li> <a href="#">News</a></li>
                          <li> <a href="#">Contact us</a></li>
                     </ul>
                  </div>
               </div>
                 <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                  <div class="contact" style="background-color: #1B1B1B;">
                     <h3>service</h3>
                      <ul class="lik">
                    <li> <a href="#"> Data recovery</a></li>
                         <li> <a href="#">Computer repair</a></li>
                         <li> <a href="#">Mobile service</a></li>
                         <li> <a href="#">Network solutions</a></li>
                          <li> <a href="#">Technical support</a></li>
                  </div>
               </div>
                 <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12" style="background-color: black;">
                  <div class="contact"style="background-color: #1B1B1B;">
                     <h3>IT NEXT THEME</h3>
                     <span>Tincidunt elit magnis <br>
                     nulla facilisis. Dolor <br>
                  sagittis maecenas. <br>
               Sapien nunc amet <br>
            ultrices, </span>
                  </div>
               </div>
            </div>
         </div>
            <div class="copyright">
               <p>Copyright 2019 All Right Reserved By <a href="https://html.design/">Free html Templates</a></p>
            </div>
         
      </div>
      </footer>
      <!-- end product section -->
      <!-- footer section -->
     
      <!-- footer section -->
      <!-- jQery -->
      <script src="/homeExports/js/jquery-3.4.1.min.js"></script>
      <!-- popper js -->
      <script src="/homeExports/js/popper.min.js"></script>
      <!-- bootstrap js -->
      <script src="/homeExports/js/bootstrap.js"></script>
      <!-- custom js -->
      <script src="/homeExports/js/custom.js"></script>
   </body>
<script>
  
</script>
 
</html>

<script>
 async function addToCart(name){
    
 const user = document.getElementById('user').innerHTML
   
 
  await fetch(`http://localhost:3000/cart/addtocart?userId=${user}&&proId=${name}`).then(function(res){
     return res.json()
  }).then((data)=>{
       document.querySelector(".badge").innerHTML=data.count;
       
  })
     
   }


   function changes(e)
   {
 
      // Define the URL and data for the POST request

const data = {
search:e.value
};

// Make the POST request using the Fetch API
fetch('http://localhost:3000/products/search', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json' // Set the content type to JSON
    // You may also include other headers as needed
  },
  body: JSON.stringify(data) // Convert the data to JSON format
})
  .then(response => response.json()) // Parse the JSON response
  .then(result => {
   location.reload()

    // Handle the result as needed
  })
  

   
   }



   function wishlist(id){
      fetch(`http://localhost:3000/products/add-to-wishlist?id=${id}`).then((data)=>{
         return data.json()
      }).then((result)=>{
         console.log(result.count)
         document.getElementById("wishlist").innerHTML=result.count;
      })
   

   }
          fetch('http://localhost:3000/cart/cartcount').then((res)=>{
            return res.json()
         }).then((data)=>{
            
            document.getElementById("count").innerHTML = data.count

            
           console.log("data.count",count)
 
            
         })
</script> 



{{!-- ////////////////////////////////////////////////////////////////////////////////////////////////// --}}